body {
   margin: 0;
   height: 100vh;
   display: flex;
   justify-content: center;
   align-items: center;
   background-image: url("heart-bg.jpg");
   font-family: "Jersey 10", sans-serif;
}

#envelope-container {
   text-align: center;
   cursor: pointer;
}

@keyframes pulse {
   0% {
       transform: scale(1);
   }
   50% {
       transform: scale(1.1);
   }
   100% {
       transform: scale(1);
   }
}

#envelope {
   width: 300px;
   animation: pulse 1.5s infinite;
   cursor: pointer;
}

#letter-container {
   display: none;
   position: fixed;
   inset: 0;
   padding: 10px;
   box-sizing: border-box;
   justify-content: center;
   align-items: center;
}

.letter-window {
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   text-align: center;
   gap: 20px;
   width: -webkit-fill-available;
}

.letter-window.open {
   transform: scale(1);
   opacity: 1;
}

h1 {
   font-size: clamp(22px, 3vw, 30px);
   margin: 0;
}

p {
   font-size: clamp(24px, 3.6vw, 40px);
   margin: 0;
}

/* Cat */

.cat {
   width: 190px;
   margin: 10px 0;
   transition: width 0.4s ease;
}

.letter-window.final .cat {
   width: 150px;
}

/* Buttons */
.buttons {
   display: flex;
   gap: 30px;
   justify-content: center;
   position: relative;
}

.no-wrapper {
   position: relative;
}

.btn {
   width: auto;
   cursor: pointer;
   user-select: none;
}

.yes-btn,
.no-btn {
   width: 85px;
   height: auto;
   display: inline-block;
}

.yes-btn {
   position: relative;
   z-index: 2;
   transform-origin: center center;
   transition: transform 0.3s ease;
}

.no-btn {
   position: relative;
   z-index: 1;
   transition: transform 0.15s ease;
   cursor: default;
}

.final-text {
   font-size: 22px;
   line-height: 1.4;
   text-align: center;
   display: inline-block;
   padding: 10px 20px;
   background-color: rgba(255, 240, 240, 0.5);
   border-radius: 12px;
}

.scratch-card {
   width: min(50%, 200px);
}

.scratch-instruction {
   font-size: clamp(14px, 1.6vw, 18px);
   margin: 0 0 6px;
}

.scratch-surface {
   position: relative;
   width: 100%;
   aspect-ratio: 4 / 2;
   border-radius: 14px;
   overflow: hidden;
   background-color: #fffaf4;
   box-shadow: 0 8px 24px rgba(58, 35, 24, 0.18);
}

.scratch-reveal {
   position: absolute;
   inset: 0;
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   gap: 8px;
   padding: 10px;
   text-align: center;
   font-size: clamp(14px, 1.8vw, 20px);
   color: #5f2f1e;
}

#scratch-canvas {
   position: absolute;
   inset: 0;
   width: 100%;
   height: 100%;
   touch-action: none;
   cursor: pointer;
   transition: opacity 0.35s ease;
}

#scratch-canvas.revealed {
   opacity: 0;
   pointer-events: none;
}

.scratch-card p {
   width: max-content;
}


@media (max-width: 768px) {
   .letter-window {
      width: 96vw;
      padding-top: clamp(86px, 23vw, 135px);
      gap: 6px;
   }

   .cat {
      width: clamp(140px, 33vw, 185px);
   }

   .yes-btn,
   .no-btn {
      width: 74px;
   }

   .scratch-card {
      width: min(72%, 300px);
   }
}

@media (max-width: 430px) {
   body {
      align-items: flex-start;
      padding-top: 18px;
      box-sizing: border-box;
   }

   #envelope {
      width: min(280px, 76vw);
   }

   #envelope-container p {
      font-size: 26px;
   }

   .letter-window {
      min-height: 64vh;
      padding-top: 84px;
   }

   h1 {
      font-size: 20px;
   }

   .buttons {
      gap: 18px;
   }

   .scratch-card {
      width: min(82%, 250px);
   }
}
